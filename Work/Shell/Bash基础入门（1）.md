

# 描述: Bash基础入门（1）



### 分号
分号（`;`）是命令的结束符，使得一行可以放置多个命令，上一个命令执行结束后，再执行第二个命令。
```
# 例1
for i in `ls`;do 
    echo $i is file name\!;
done

# 例2
touch file; ls
```
例如for循环，例2中，Bash 先执行touch命令，执行完成后，再执行ls命令。

注意，使用分号时，第二个命令总是接着第一个命令执行，无论touch执行成功或失败。

### && 和 ||

`&&`和`||`可以处理命令之间的执行关系
```
ls && echo "Hello"
```
表示如果`ls`命令成功，才运行`echo`命令。
```
touch 123 || ls
```
表示如果`touch`命令运行失败，才运行`ls`命令，如果`touch`成功则不执行`ls`。

### `?`和`*`匹配

`?`匹配单个字符,`*`匹配任意数量的任意字符
```
$ ls ?.txt
1.txt 2.txt

$ ls *.txt
1.txt 2.txt 123.txt
```
注意，`*`不会匹配隐藏文件（以`.`开头的文件），即`ls *`不会输出隐藏文件。

如果要匹配隐藏文件，需要写成`.*`。

### 方括号匹配
匹配括号之中的任意一个字符。比如，[12345]可以匹配五个数字的任意一个。
```
$ ls [12345].txt
1.txt 2.txt

# 只存在文件 a.txt
$ ls [12345].txt
1.txt
```

反向匹配，`[^abc]`或`[!abc]`表示匹配除了a、b、c以外的字符.
```
# 存在 111、123、222 三个文件
$ ls ?[!2]?
111
```

连续匹配`[0-9]`,`[a-z]`,`[A-Z]`，还有`[!1-9]`
```
$ ls demo[0-9].txt
demo1.txt demo3.txt
```
* [a-z]：所有小写字母。
* [a-zA-Z]：所有小写字母与大写字母。
* [a-zA-Z0-9]：所有小写字母、大写字母与数字。
* [abc]*：所有以a、b、c字符之一开头的文件名。
* program.[co]：文件program.c与文件program.o。
* BACKUP.[0-9][0-9][0-9]：所有以BACKUP.开头，后面是三个数字的文件名。

注意，如果需要匹配`[`字符，可以放在方括号内，比如`[[aeiou]`。如果需要匹配连字号`-`，只能放在方括号内部的开头或结尾，比如`[-aeiou]`或`[aeiou-]`

### 大括号扩展
```
# 例1,创建3个文件
$ touch {1,2,3}.txt

# 例2，创建9个文件夹
$ mkdir {1,2,3}/{1,2,3}

# 例3，嵌套扩展
$ touch 1.{j{p,pe}g,png}
1.jpeg  1.jpg   1.png

# 例4，for循环连用
for i in {1..4}
do
  echo $i
done

```
注意，大括号扩展内部的逗号前后不能有空格。否则，大括号扩展会失效。

### `$`字符
Bash将`$`开头的的词视为变量

```
$SHELL
或
${SHELL}
```

Bash会先返回`$(Command)`中`Command`的运行结果
```
$ echo $(date)
```

### 特别匹配
* [[:alnum:]]：匹配任意英文字母与数字
* [[:alpha:]]：匹配任意英文字母
* [[:blank:]]：空格和 Tab 键。
* [[:cntrl:]]：ASCII 码 0-31 的不可打印字符。
* [[:digit:]]：匹配任意数字 0-9。
* [[:graph:]]：A-Z、a-z、0-9 和标点符号。
* [[:lower:]]：匹配任意小写字母 a-z。
* [[:print:]]：ASCII 码 32-127 的可打印字符。
* [[:punct:]]：标点符号（除了 A-Z、a-z、0-9 的可打印字符）。
* [[:space:]]：空格、Tab、LF（10）、VT（11）、FF（12）、CR（13）。
* [[:upper:]]：匹配任意大写字母 A-Z。
* [[:xdigit:]]：16进制字符（A-F、a-f、0-9）。
```
# 列出所有以大写字母开头的文件
$ ls [[:upper:]]*
```

### 量词匹配
`?(XXX)`匹配0个或1个`XXX`
```
# 匹配0个或1个.txt
$ ls abc?(.txt)
abc abc.txt
```
`+(XXX)`匹配1个或多个`XXX`
```
$ ls abc+(.txt)
abc.txt abc.txt.txt
```

### 引号和转义
`'`单引号效力最强，会让一切转义失效保留原样。`"`双引号保留美元符号（`$`）、反引号（`\``）和反斜杠（`\`）的效力
```
$ a=1

$ echo '$a'
$a

# 双引号使用变量
$ echo "$a"
1

# -e 参数转义
$ echo -e "a\tb"
a	b

# 反引号
$ echo "I'd say: \"hello!\""
I'd say: "hello!"

# 输出多行文本
$ echo "hello
world"
hello
world

# 单行输出
$ echo $(cal)
一月 2020 日 一 二 三 四 五 六 1 2 3 ... 31

# 原始格式输出
$ echo "$(cal)"
      一月 2020
日 一 二 三 四 五 六
          1  2  3  4
 5  6  7  8  9 10 11
12 13 14 15 16 17 18
19 20 21 22 23 24 25
26 27 28 29 30 31
```

来自网道项目：https://wangdoc.com/bash/

